(window.webpackJsonp=window.webpackJsonp||[]).push([["demos-custom-a-custom-modal","a-custom-modal","a-custom-modal-useModal","a-custom-modal-index-vue"],{"22d9":function(e,t,n){"use strict";n.r(t);var o=n("7a23"),l={ref:"modalRootRef",class:"ant-modal-root custom-modal"},c={class:"ant-modal-mask"},r={key:0,ref:"modalWrapRef",class:"ant-modal-wrap"},a={ref:"dragRef",class:"ant-modal"},i={class:"ant-modal-content"},u={ref:"titleRef",class:"ant-modal-header"},s={class:"ant-modal-title"},d={class:"ant-modal-operate"},f={ref:"minRef",type:"button",class:"min",title:"最小化"},m={ref:"maxRef",type:"button",class:"max",title:"最大化"},b={ref:"revertRef",type:"button",class:"revert",title:"还原"},v={ref:"resizeLRef",class:"resizeL"},p={ref:"resizeTRef",class:"resizeT"},O={ref:"resizeRRef",class:"resizeR"},j={ref:"resizeBRef",class:"resizeB"},y={ref:"resizeLTRef",class:"resizeLT"},h={ref:"resizeTRRef",class:"resizeTR"},E={ref:"resizeBRRef",class:"resizeBR"},x={ref:"resizeLBRef",class:"resizeLB"},g={ref:"modalBody",class:"ant-modal-body"},N=Object(o.createTextVNode)(" ① 窗口可以拖动；"),V=Object(o.createElementVNode)("br",null,null,-1),R=Object(o.createTextVNode)(" ② 窗口可以通过八个方向改变大小；"),k=Object(o.createElementVNode)("br",null,null,-1),T=Object(o.createTextVNode)(" ③ 窗口可以最小化、最大化、还原、关闭；"),w=Object(o.createElementVNode)("br",null,null,-1),L=Object(o.createTextVNode)(" ④ 限制窗口最小宽度/高度。 "),z={key:0,ref:"modalFooter",class:"ant-modal-footer"},B=Object(o.createTextVNode)("取 消"),C=Object(o.createTextVNode)("确 认"),M=n("8e1b"),_=n("b548"),H=Object(o.defineComponent)({name:"ACustomModal",components:{Transition:M.Transition},props:{title:{type:String,default:"标题"},visible:{type:Boolean,default:!1},destroyOnClose:{type:Boolean,default:!1},footer:{type:[String],default:"I am footer"},confirmLoading:{type:Boolean,default:!1},centered:{type:Boolean,default:!1}},emits:["update:visible"],setup:function(e,t){return Object(_.default)(e,t)}});n("5eda"),H.render=function(e,t,n,M,_,H){var W=Object(o.resolveComponent)("a-button");return e.destroyOnClose&&!e.visible?(Object(o.openBlock)(),Object(o.createElementBlock)(o.Fragment,{key:0},[],64)):(Object(o.openBlock)(),Object(o.createBlock)(o.Teleport,{key:1,to:"body"},[Object(o.createElementVNode)("div",l,[Object(o.createVNode)(o.Transition,Object(o.mergeProps)({key:"mask"},e.maskTransitionProps),{default:Object(o.withCtx)((function(){return[Object(o.withDirectives)(Object(o.createElementVNode)("div",c,null,512),[[o.vShow,e.visible]])]})),_:1},16),Object(o.createVNode)(o.Transition,Object(o.mergeProps)({key:"dialog"},e.dialogTransitionProps),{default:Object(o.withCtx)((function(){return[e.visible?(Object(o.openBlock)(),Object(o.createElementBlock)("div",r,[Object(o.createElementVNode)("div",a,[Object(o.createElementVNode)("div",i,[Object(o.createElementVNode)("div",u,[Object(o.createElementVNode)("span",s,Object(o.toDisplayString)(e.title),1),Object(o.createElementVNode)("div",d,[Object(o.createElementVNode)("button",f,null,512),Object(o.createElementVNode)("button",m,null,512),Object(o.createElementVNode)("button",b,null,512),Object(o.createElementVNode)("button",{type:"button",class:"close",title:"关闭",onClick:t[0]||(t[0]=function(){return e.closeModal&&e.closeModal.apply(e,arguments)})})])],512),Object(o.createElementVNode)("div",v,null,512),Object(o.createElementVNode)("div",p,null,512),Object(o.createElementVNode)("div",O,null,512),Object(o.createElementVNode)("div",j,null,512),Object(o.createElementVNode)("div",y,null,512),Object(o.createElementVNode)("div",h,null,512),Object(o.createElementVNode)("div",E,null,512),Object(o.createElementVNode)("div",x,null,512),Object(o.createElementVNode)("div",g,[Object(o.renderSlot)(e.$slots,"default",{},(function(){return[N,V,R,k,T,w,L]}))],512),null!=e.footer?(Object(o.openBlock)(),Object(o.createElementBlock)("div",z,[Object(o.renderSlot)(e.$slots,"footer",{},(function(){return[Object(o.createElementVNode)("div",null,[Object(o.createVNode)(W,{onClick:e.closeModal},{default:Object(o.withCtx)((function(){return[B]})),_:1},8,["onClick"]),Object(o.createVNode)(W,{type:"primary",loading:e.confirmLoading,onClick:e.closeModal},{default:Object(o.withCtx)((function(){return[C]})),_:1},8,["loading","onClick"])])]}))],512)):Object(o.createCommentVNode)("",!0)])],512)],512)):Object(o.createCommentVNode)("",!0)]})),_:3},16)],512)]))},t.default=H},"2f30":function(e,t,n){"use strict";n.r(t),n("ab9e");var o=n("2c92"),l=n("7a23"),c=n("c1b0"),r=Object(l.createTextVNode)("弹出弹窗"),a=Object(l.defineComponent)({setup:function(e){var t=Object(l.reactive)({visible:!1});return function(e,n){var a=Object(l.resolveComponent)("a-button"),i=Object(l.resolveComponent)("a-card");return Object(l.openBlock)(),Object(l.createElementBlock)("div",null,[Object(l.createVNode)(Object(l.unref)(o.a),{message:"自定义模态框",description:"沿用ant-design-vue的modal样式，自定义一个可拖拽、可调整大小的模态框",type:"info","show-icon":"",style:{"margin-bottom":"12px"}}),Object(l.createVNode)(i,null,{default:Object(l.withCtx)((function(){return[Object(l.createVNode)(a,{type:"primary",onClick:n[0]||(n[0]=function(e){return Object(l.unref)(t).visible=!0})},{default:Object(l.withCtx)((function(){return[r]})),_:1})]})),_:1}),Object(l.createVNode)(Object(l.unref)(c.ACustomModal),{visible:Object(l.unref)(t).visible,"onUpdate:visible":n[1]||(n[1]=function(e){return Object(l.unref)(t).visible=e})},null,8,["visible"])])}}});t.default=a},"4ea4":function(e,t){e.exports=function(e){return e&&e.__esModule?e:{default:e}},e.exports.default=e.exports,e.exports.__esModule=!0},"5eda":function(e,t,n){"use strict";n("ac47")},a559:function(e,t){function n(){return e.exports=n=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},e.exports.default=e.exports,e.exports.__esModule=!0,n.apply(this,arguments)}e.exports=n,e.exports.default=e.exports,e.exports.__esModule=!0},ac47:function(e,t,n){},b548:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return r})),n("99af");var o=n("7a23"),l=n("8e1b"),c=n("7303");function r(e,t){var n=t.emit,r=(t.attrs,Object(o.ref)(null)),a=Object(o.ref)(null),i=Object(o.ref)(null),u=Object(o.ref)(null),s=Object(o.ref)(null),d=Object(o.ref)(null),f=Object(o.ref)(null),m=Object(o.ref)(null),b=Object(o.ref)(null),v=Object(o.ref)(null),p=Object(o.ref)(null),O=Object(o.ref)(null),j=Object(o.ref)(null),y=Object(o.ref)(null),h=Object(o.ref)(null),E=Object(o.ref)(null),x={x:0,y:0},g=function(e){return Object.assign(x,{x:e.pageX,y:e.pageY})};document.documentElement.addEventListener("click",g,!0);var N,V,R,k,T,w=Object(l.getTransitionProps)("fade"),L=Object(l.getTransitionProps)("zoom",{onAfterLeave:function(){return n("update:visible",!1)}}),z=0;function B(e,t,n,o,l,c){t.onmousedown=function(r){var a=r.clientX-t.offsetLeft,u=r.clientY-t.offsetTop,s=e.offsetTop,d=e.offsetLeft,f=e.offsetWidth,m=e.offsetHeight,b=function(r){var b=r.clientX-a,v=r.clientY-u,p=document.documentElement.clientWidth-e.offsetLeft-2,O=document.documentElement.clientHeight-e.offsetTop-2,j=n?f-b:t.offsetWidth+b,y=o?m-v:t.offsetHeight+v;return n&&(e.style.left=d+b+"px"),o&&(e.style.top=s+v+"px"),j<400&&(j=400),j>p&&(j=p),l||(i.value.style.width=j+"px"),y<140&&(y=140),y>O&&(y=O),c||(i.value.style.height=y-z-T+"px"),(n&&400==j||o&&140==y)&&(document.onmousemove=null),(n||o)&&(document.onmousemove=null),!1};return document.addEventListener("mousemove",b),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",b),document.removeEventListener("mouseup",e)})),!1}}var C=function(){var t,n,o;t=r.value,n=s.value,o=0,(n=n||t).style.cursor="move",n.onmousedown=function(e){o=e.clientX-t.offsetLeft;var n=e.clientY-t.offsetTop,l=function(e){var l=e.clientX-o,c=e.clientY-n,r=document.documentElement.clientWidth-t.offsetWidth,a=document.documentElement.clientHeight-t.offsetHeight;return l<=0&&(l=0),c<=0&&(c=0),l>=r&&(l=r),c>=a&&(c=a),t.style.left=l+"px",t.style.top=c+"px",!1};return document.addEventListener("mousemove",l),document.addEventListener("mouseup",(function e(){document.removeEventListener("mousemove",l),document.removeEventListener("mouseup",e)})),!1},h.value.onclick=function(){var e=getComputedStyle(t),n=e.left,o=e.top,l=getComputedStyle(i.value),c=l.width,r=l.height;N=c,V=r,R=n,k=o,t.style.top=t.style.left=0,t.style.width=document.documentElement.clientWidth-2+"px",t.style.height=document.documentElement.clientHeight-2+"px",i.value.style.width=t.style.width,i.value.style.height=parseFloat(t.style.height)-T-z+"px",this.style.display="none",E.value.style.display="block"},E.value.onclick=function(){i.value.style.height=V,i.value.style.width=N,t.style.width=t.style.height="unset",t.style.left=R,t.style.top=k,this.style.display="none",h.value.style.display="block"},B(r.value,v.value,!0,!0,!1,!1),B(r.value,p.value,!1,!0,!1,!1),B(r.value,O.value,!1,!1,!1,!1),B(r.value,j.value,!0,!1,!1,!1),B(r.value,d.value,!0,!1,!1,!0),B(r.value,f.value,!1,!0,!0,!1),B(r.value,m.value,!1,!1,!1,!0),B(r.value,b.value,!1,!1,!0,!1),r.value.style.left=(document.documentElement.clientWidth-r.value.offsetWidth)/2+"px",r.value.style.top=e.centered?(document.documentElement.clientHeight-r.value.offsetHeight)/2+"px":"100px";var l=r.value.getBoundingClientRect(),c=l.left,u=l.top,y=x.x,g=x.y;a.value.style.transformOrigin="".concat(y-c,"px ").concat(g-u,"px")},M=Object(c.a)(C,30);return Object(o.onMounted)((function(){Object(o.watch)((function(){return e.visible}),(function(e){e&&(Object(o.nextTick)((function(){var e,t;T=(null===(e=s.value)||void 0===e?void 0:e.offsetHeight)||0,z=(null===(t=u.value)||void 0===t?void 0:t.offsetHeight)||0,C()})),window.addEventListener("resize",M))}),{immediate:!0})})),Object(o.onBeforeUnmount)((function(){window.removeEventListener("resize",M),document.documentElement.removeEventListener("click",g,!0),M.cancel})),{dragRef:r,modalWrapRef:a,modalBody:i,modalFooter:u,titleRef:s,resizeLRef:d,resizeTRef:f,resizeRRef:m,resizeBRef:b,resizeLTRef:v,resizeTRRef:p,resizeBRRef:O,resizeLBRef:j,minRef:y,maxRef:h,revertRef:E,maskTransitionProps:w,dialogTransitionProps:L,closeModal:function(){n("update:visible",!1)}}}},c1b0:function(e,t,n){"use strict";n.r(t);var o=n("22d9");n.d(t,"ACustomModal",(function(){return o.default}))}}]);